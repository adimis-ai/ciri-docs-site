"use strict";(self.webpackChunkciri_docs=self.webpackChunkciri_docs||[]).push([[9113],{3201(e,r,s){s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"cli-reference","title":"CLI Reference","description":"Ciri\'s terminal interface is built on Prompt Toolkit for rich, interactive input handling. Everything you type at the You > prompt is either a natural language request, a slash command, or an @-autocomplete trigger.","source":"@site/docs/cli-reference.md","sourceDirName":".","slug":"/cli-reference","permalink":"/docs/cli-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/adimis-ai/ciri/tree/main/docs-site/docs/cli-reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/docs/getting-started"},"next":{"title":"Examples & Tutorials","permalink":"/docs/examples"}}');var n=s(4848),t=s(8453);const d={},c="CLI Reference",l={},o=[{value:"Slash Commands",id:"slash-commands",level:2},{value:"<code>@</code>-Autocomplete Triggers",id:"-autocomplete-triggers",level:2},{value:"File &amp; Folder References",id:"file--folder-references",level:3},{value:"Capability References",id:"capability-references",level:3},{value:"Autocomplete Behavior",id:"autocomplete-behavior",level:3},{value:"Keyboard Shortcuts",id:"keyboard-shortcuts",level:2},{value:"Human-in-the-Loop (HITL) Prompts",id:"human-in-the-loop-hitl-prompts",level:2},{value:"Default Interrupt Triggers",id:"default-interrupt-triggers",level:3},{value:"Response Options",id:"response-options",level:3},{value:"Script Execution Approval",id:"script-execution-approval",level:2},{value:"Thread Management",id:"thread-management",level:2},{value:"Tips &amp; Pro-Tricks",id:"tips--pro-tricks",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"cli-reference",children:"CLI Reference"})}),"\n",(0,n.jsxs)(r.p,{children:["Ciri's terminal interface is built on ",(0,n.jsx)(r.strong,{children:"Prompt Toolkit"})," for rich, interactive input handling. Everything you type at the ",(0,n.jsx)(r.code,{children:"You >"})," prompt is either a natural language request, a slash command, or an ",(0,n.jsx)(r.code,{children:"@"}),"-autocomplete trigger."]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"slash-commands",children:"Slash Commands"}),"\n",(0,n.jsx)(r.p,{children:"Slash commands handle session management, configuration, and workspace operations. They are never sent to the LLM \u2014 they are processed locally."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Command"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/new-thread"})}),(0,n.jsx)(r.td,{children:"Start a fresh conversation thread with a clean state. Previous threads are preserved in the database."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/switch-thread"})}),(0,n.jsxs)(r.td,{children:["Interactively browse and switch to any previous thread. Press ",(0,n.jsx)(r.code,{children:"Tab"})," to cycle through thread names."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/delete-thread"})}),(0,n.jsx)(r.td,{children:"Permanently remove the current thread and its checkpointed state from the database."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/threads"})}),(0,n.jsx)(r.td,{children:"Display a table of all historical conversation threads (ID, name, timestamp)."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/change-model"})}),(0,n.jsxs)(r.td,{children:["Change the active LLM. Supports ",(0,n.jsx)(r.code,{children:"Tab"})," autocomplete over all available models for the configured provider."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/change-browser-profile"})}),(0,n.jsx)(r.td,{children:"Switch to a different browser profile for web research when multiple profiles are detected."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/sync"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.strong,{children:"The most powerful command."})," Invokes the Trainer Agent to analyze your workspace, identify capability gaps, and build new Skills, Toolkits, or SubAgents. Hot-reloads everything without restart."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/help"})}),(0,n.jsxs)(r.td,{children:["Display the full help menu with commands, keyboard shortcuts, and ",(0,n.jsx)(r.code,{children:"@"}),"-trigger reference."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"/exit"})}),(0,n.jsx)(r.td,{children:"Gracefully close the session (flushes buffers, closes database)."})]})]})]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsxs)(r.h2,{id:"-autocomplete-triggers",children:[(0,n.jsx)(r.code,{children:"@"}),"-Autocomplete Triggers"]}),"\n",(0,n.jsxs)(r.p,{children:["Autocomplete triggers inject context into your prompt. Type the trigger prefix followed by ",(0,n.jsx)(r.code,{children:":"})," and start typing \u2014 Ciri will suggest completions as you type. Press ",(0,n.jsx)(r.code,{children:"Tab"})," to cycle through matches."]}),"\n",(0,n.jsx)(r.h3,{id:"file--folder-references",children:"File & Folder References"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Trigger"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Example"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@files:<path>"})}),(0,n.jsxs)(r.td,{children:["List all files under the given path, respecting ",(0,n.jsx)(r.code,{children:".gitignore"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@files:src/utils.py"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@folders:<path>"})}),(0,n.jsxs)(r.td,{children:["List all directories under the path, respecting ",(0,n.jsx)(r.code,{children:".gitignore"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@folders:src/middlewares"})})]})]})]}),"\n",(0,n.jsxs)(r.p,{children:["Both triggers exclude noisy directories automatically (",(0,n.jsx)(r.code,{children:".git"}),", ",(0,n.jsx)(r.code,{children:"node_modules"}),", ",(0,n.jsx)(r.code,{children:".venv"}),", ",(0,n.jsx)(r.code,{children:"__pycache__"}),", ",(0,n.jsx)(r.code,{children:".ciri"}),", build artifacts, etc.) even if not in ",(0,n.jsx)(r.code,{children:".gitignore"}),"."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Usage example:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"You > Analyze @files:src/copilot.py for performance bottlenecks\nYou > What is the structure of @folders:src/middlewares?\n"})}),"\n",(0,n.jsx)(r.h3,{id:"capability-references",children:"Capability References"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Trigger"}),(0,n.jsx)(r.th,{children:"Description"}),(0,n.jsx)(r.th,{children:"Source"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@skills:<prefix>"})}),(0,n.jsxs)(r.td,{children:["List skills from ",(0,n.jsx)(r.code,{children:"~/.local/share/ciri/skills/"})," and ",(0,n.jsx)(r.code,{children:".ciri/skills/"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@skills:pdf"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@toolkits:<prefix>"})}),(0,n.jsxs)(r.td,{children:["List toolkits from ",(0,n.jsx)(r.code,{children:"~/.local/share/ciri/toolkits/"})," and ",(0,n.jsx)(r.code,{children:".ciri/toolkits/"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@toolkits:slack"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@subagents:<prefix>"})}),(0,n.jsxs)(r.td,{children:["List subagents from ",(0,n.jsx)(r.code,{children:"~/.local/share/ciri/subagents/"})," and ",(0,n.jsx)(r.code,{children:".ciri/subagents/"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"@subagents:web"})})]})]})]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Usage example:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"You > Run @skills:pdf-form-filler on invoice.pdf\nYou > Use @toolkits:github to check my open PRs\nYou > Delegate this to @subagents:web_researcher\n"})}),"\n",(0,n.jsx)(r.h3,{id:"autocomplete-behavior",children:"Autocomplete Behavior"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Results are ",(0,n.jsx)(r.strong,{children:"limited to 50 items"})," for performance."]}),"\n",(0,n.jsx)(r.li,{children:"Displayed with emoji prefixes: \ud83d\udcc4 files \xb7 \ud83d\udcc1 folders \xb7 \u26a1 skills \xb7 \ud83d\udd27 toolkits \xb7 \ud83e\udd16 subagents"}),"\n",(0,n.jsxs)(r.li,{children:["Gitignore specs are parsed ",(0,n.jsx)(r.strong,{children:"recursively"})," \u2014 all ",(0,n.jsx)(r.code,{children:".gitignore"})," files in the tree are respected."]}),"\n",(0,n.jsx)(r.li,{children:"Errors (malformed patterns, permission denied) are silently swallowed."}),"\n"]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"keyboard-shortcuts",children:"Keyboard Shortcuts"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Shortcut"}),(0,n.jsx)(r.th,{children:"Action"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Tab"})}),(0,n.jsx)(r.td,{children:"Trigger autocomplete or cycle through suggestions"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Alt+Enter"})}),(0,n.jsx)(r.td,{children:"Insert a newline without submitting (multi-line input)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Ctrl+C"})}),(0,n.jsx)(r.td,{children:"Stop a currently streaming response"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"Ctrl+C"})," \xd72"]}),(0,n.jsx)(r.td,{children:"Exit Ciri immediately"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"\u2191"})," / ",(0,n.jsx)(r.code,{children:"\u2193"})]}),(0,n.jsx)(r.td,{children:"Navigate through your input history"})]})]})]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"human-in-the-loop-hitl-prompts",children:"Human-in-the-Loop (HITL) Prompts"}),"\n",(0,n.jsxs)(r.p,{children:["When Ciri wants to take a consequential action, she pauses and presents an approval prompt. This is not optional \u2014 it is wired into the ",(0,n.jsx)(r.code,{children:"HumanInTheLoopMiddleware"})," at the graph level."]}),"\n",(0,n.jsx)(r.h3,{id:"default-interrupt-triggers",children:"Default Interrupt Triggers"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Action"}),(0,n.jsx)(r.th,{children:"When It Fires"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"execute"})}),(0,n.jsx)(r.td,{children:"Any shell command or script execution"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"edit_file"})}),(0,n.jsx)(r.td,{children:"Modifying an existing file"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"write_file"})}),(0,n.jsx)(r.td,{children:"Creating a new file"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"response-options",children:"Response Options"}),"\n",(0,n.jsx)(r.p,{children:"For each proposed action you can:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Approve"})," \u2014 Ciri executes as proposed."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Edit"})," \u2014 You modify the JSON arguments (e.g., change the command, path, or content) before Ciri executes."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Reject"})," \u2014 Ciri does not execute and can propose an alternative."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"The HITL panel uses Rich-formatted panels with syntax-highlighted JSON arguments so you can inspect exactly what will happen before approving."}),"\n",(0,n.jsxs)(r.p,{children:["\u2192 ",(0,n.jsx)(r.a,{href:"/docs/features/hitl",children:"Human-in-the-Loop Deep Dive"})]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"script-execution-approval",children:"Script Execution Approval"}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"execute_script"})," tool runs isolated Python or JavaScript in a sandboxed virtual environment. When triggered, it shows a special interrupt with:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Syntax-highlighted script content"}),"\n",(0,n.jsx)(r.li,{children:"Language and dependency list"}),"\n",(0,n.jsx)(r.li,{children:"Working directory and output directory"}),"\n",(0,n.jsx)(r.li,{children:"Timeout and cleanup settings"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"You approve before the sandbox is created and the script runs."}),"\n",(0,n.jsxs)(r.p,{children:["\u2192 ",(0,n.jsx)(r.a,{href:"/docs/features/script-executor",children:"Script Executor Guide"})]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"thread-management",children:"Thread Management"}),"\n",(0,n.jsxs)(r.p,{children:["All conversation threads are stored in the local SQLite database (",(0,n.jsx)(r.code,{children:"~/.ciri/data/ciri.db"}),"). Each thread is a LangGraph checkpoint sequence \u2014 meaning you can resume any thread from exactly where it left off, even after restarting Ciri."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"/threads          # list all threads\n/new-thread       # creates a new thread, auto-named by timestamp\n/switch-thread    # interactive fuzzy-select from your thread list\n/delete-thread    # deletes current thread (irreversible)\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Thread names can be changed in the interactive ",(0,n.jsx)(r.code,{children:"/switch-thread"})," selector."]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"tips--pro-tricks",children:"Tips & Pro-Tricks"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Multi-line input"}),": Use ",(0,n.jsx)(r.code,{children:"Alt+Enter"})," to write multi-paragraph prompts without accidentally submitting."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Model switching mid-session"}),": ",(0,n.jsx)(r.code,{children:"/change-model"})," changes the LLM for all ",(0,n.jsx)(r.em,{children:"future"})," messages in the thread. Past messages remain associated with the previous model."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"gitignore-aware file search"}),": If ",(0,n.jsx)(r.code,{children:"@files:"})," isn't finding a file, check your ",(0,n.jsx)(r.code,{children:".gitignore"})," \u2014 it may be excluded. Build artifacts, ",(0,n.jsx)(r.code,{children:".venv"}),", and node_modules are always excluded."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Inject a file directly"}),": You can reference a file in your message and Ciri will read it:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"You > Read @files:docs/ARCHITECTURE.md and summarize the key decisions\n"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Fast subagent delegation"}),": If you know what subagent handles a task, reference it explicitly to skip the routing decision:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"You > @subagents:web_researcher \u2014 research Q1 2026 SaaS pricing benchmarks\n"})})]})}function a(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453(e,r,s){s.d(r,{R:()=>d,x:()=>c});var i=s(6540);const n={},t=i.createContext(n);function d(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);