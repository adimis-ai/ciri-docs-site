"use strict";(self.webpackChunkciri_docs=self.webpackChunkciri_docs||[]).push([[2337],{8551(n,e,t){t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"development/tests-lint","title":"Tests & Linting","description":"Testing","source":"@site/docs/development/tests-lint.md","sourceDirName":"development","slug":"/development/tests-lint","permalink":"/docs/development/tests-lint","draft":false,"unlisted":false,"editUrl":"https://github.com/adimis-ai/ciri/tree/main/docs-site/docs/development/tests-lint.md","tags":[],"version":"current","frontMatter":{}}');var i=t(4848),r=t(8453);const c={},l="Tests & Linting",o={},d=[{value:"Typical CI job flow",id:"typical-ci-job-flow",level:2}];function p(n){const e={h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"tests--linting",children:"Tests & Linting"})}),"\n",(0,i.jsx)(e.p,{children:"Testing"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Run unit tests with pytest:"}),"\n",(0,i.jsx)(e.p,{children:"pytest"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Async tests: pytest-asyncio is available"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Coverage: pytest --cov=src"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Linting & Formatting"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Ruff (fast linter):"}),"\n",(0,i.jsx)(e.p,{children:"ruff check src/\nruff check src/ --fix"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Black (formatter):"}),"\n",(0,i.jsx)(e.p,{children:"black src/"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Mypy (type checking):"}),"\n",(0,i.jsx)(e.p,{children:"mypy src/"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Pre-PR checklist (recommended):"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"ruff check --fix"}),"\n",(0,i.jsx)(e.li,{children:"black --check src/"}),"\n",(0,i.jsx)(e.li,{children:"pytest"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"CI pipelines should run the same commands to ensure consistency."}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.h2,{id:"typical-ci-job-flow",children:"Typical CI job flow"}),"\n",(0,i.jsx)(e.mermaid,{value:"sequenceDiagram\n  participant Dev\n  participant Repo\n  participant CI\n  participant Runner\n  Dev->>Repo: push PR\n  Repo->>CI: trigger workflow\n  CI->>Runner: install deps\n  Runner->>Runner: run ruff, black, mypy\n  Runner->>Runner: run pytest\n  Runner--\x3e>CI: report status\n  CI--\x3e>Repo: show checks"})]})}function a(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},8453(n,e,t){t.d(e,{R:()=>c,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function c(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);