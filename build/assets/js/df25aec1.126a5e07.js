"use strict";(self.webpackChunkciri_docs=self.webpackChunkciri_docs||[]).push([[4376],{7346(e,s,r){r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"features/autocomplete","title":"Autocomplete & Context Triggers","description":"Ciri\'s terminal input supports two families of autocomplete:","source":"@site/docs/features/autocomplete.md","sourceDirName":"features","slug":"/features/autocomplete","permalink":"/docs/features/autocomplete","draft":false,"unlisted":false,"editUrl":"https://github.com/adimis-ai/ciri/tree/main/docs-site/docs/features/autocomplete.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Human-in-the-Loop (HITL)","permalink":"/docs/features/hitl"},"next":{"title":"Deep Web Research","permalink":"/docs/features/web-research"}}');var n=r(4848),l=r(8453);const d={},c="Autocomplete & Context Triggers",o={},t=[{value:"<code>@</code>-Trigger Quick Reference",id:"-trigger-quick-reference",level:2},{value:"File &amp; Folder Triggers",id:"file--folder-triggers",level:2},{value:"<code>@files:&lt;path&gt;</code>",id:"filespath",level:3},{value:"<code>@folders:&lt;path&gt;</code>",id:"folderspath",level:3},{value:"Always-Excluded Paths",id:"always-excluded-paths",level:3},{value:"Skills Trigger",id:"skills-trigger",level:2},{value:"<code>@skills:&lt;prefix&gt;</code>",id:"skillsprefix",level:3},{value:"Toolkits Trigger",id:"toolkits-trigger",level:2},{value:"<code>@toolkits:&lt;prefix&gt;</code>",id:"toolkitsprefix",level:3},{value:"SubAgents Trigger",id:"subagents-trigger",level:2},{value:"<code>@subagents:&lt;prefix&gt;</code>",id:"subagentsprefix",level:3},{value:"Slash Command Autocomplete",id:"slash-command-autocomplete",level:2},{value:"Implementation Reference",id:"implementation-reference",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"autocomplete--context-triggers",children:"Autocomplete & Context Triggers"})}),"\n",(0,n.jsx)(s.p,{children:"Ciri's terminal input supports two families of autocomplete:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Slash-command autocomplete"})," \u2014 ",(0,n.jsx)(s.code,{children:"/"})," prefix for CLI commands"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:[(0,n.jsx)(s.code,{children:"@"}),"-trigger autocomplete"]})," \u2014 reference files, folders, skills, toolkits, or subagents"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Both use Prompt Toolkit's completion engine (",(0,n.jsx)(s.code,{children:"CiriCompleter"}),") and activate on ",(0,n.jsx)(s.code,{children:"Tab"}),"."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsxs)(s.h2,{id:"-trigger-quick-reference",children:[(0,n.jsx)(s.code,{children:"@"}),"-Trigger Quick Reference"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Trigger"}),(0,n.jsx)(s.th,{children:"Resolves To"}),(0,n.jsx)(s.th,{children:"Source"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"@files:<path>"})}),(0,n.jsx)(s.td,{children:"Matching file paths"}),(0,n.jsxs)(s.td,{children:["Workspace (respects ",(0,n.jsx)(s.code,{children:".gitignore"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"@folders:<path>"})}),(0,n.jsx)(s.td,{children:"Matching directory paths"}),(0,n.jsxs)(s.td,{children:["Workspace (respects ",(0,n.jsx)(s.code,{children:".gitignore"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"@skills:<prefix>"})}),(0,n.jsx)(s.td,{children:"Skill names"}),(0,n.jsx)(s.td,{children:"Core harness + project harness"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"@toolkits:<prefix>"})}),(0,n.jsx)(s.td,{children:"Toolkit names"}),(0,n.jsx)(s.td,{children:"Core harness + project harness"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"@subagents:<prefix>"})}),(0,n.jsx)(s.td,{children:"SubAgent names"}),(0,n.jsx)(s.td,{children:"Core harness + project harness"})]})]})]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"file--folder-triggers",children:"File & Folder Triggers"}),"\n",(0,n.jsx)(s.h3,{id:"filespath",children:(0,n.jsx)(s.code,{children:"@files:<path>"})}),"\n",(0,n.jsx)(s.p,{children:"Lists all files under the given path prefix, filtered by gitignore rules and hardcoded exclusions."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > Explain @files:src/middlewares/skills.py in simple terms\nYou > Compare @files:docs/proposal-v1.docx with @files:docs/proposal-v2.docx\nYou > Find all TODOs in @files:src/\n"})}),"\n",(0,n.jsxs)(s.p,{children:["The completion list is capped at ",(0,n.jsx)(s.strong,{children:"50 results"})," for performance. Start typing to narrow it down."]}),"\n",(0,n.jsx)(s.h3,{id:"folderspath",children:(0,n.jsx)(s.code,{children:"@folders:<path>"})}),"\n",(0,n.jsx)(s.p,{children:"Lists directories \u2014 useful for giving Ciri a broad context of a module or section."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > Summarize the purpose of @folders:src/subagents\nYou > What changed in @folders:reports/Q1-2026?\n"})}),"\n",(0,n.jsx)(s.h3,{id:"always-excluded-paths",children:"Always-Excluded Paths"}),"\n",(0,n.jsxs)(s.p,{children:["These are never shown in ",(0,n.jsx)(s.code,{children:"@files:"})," or ",(0,n.jsx)(s.code,{children:"@folders:"})," completions, regardless of ",(0,n.jsx)(s.code,{children:".gitignore"}),":"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Category"}),(0,n.jsx)(s.th,{children:"Excluded Names"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Version control"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:".git"}),", ",(0,n.jsx)(s.code,{children:".hg"}),", ",(0,n.jsx)(s.code,{children:".svn"}),", ",(0,n.jsx)(s.code,{children:".gitignore"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Python"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:".venv"}),", ",(0,n.jsx)(s.code,{children:"venv"}),", ",(0,n.jsx)(s.code,{children:"env"}),", ",(0,n.jsx)(s.code,{children:"__pycache__"}),", ",(0,n.jsx)(s.code,{children:".pytest_cache"}),", ",(0,n.jsx)(s.code,{children:".mypy_cache"}),", ",(0,n.jsx)(s.code,{children:".tox"}),", ",(0,n.jsx)(s.code,{children:"build"}),", ",(0,n.jsx)(s.code,{children:"dist"}),", ",(0,n.jsx)(s.code,{children:"*.egg-info"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Node.js"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"node_modules"}),", ",(0,n.jsx)(s.code,{children:".npm"}),", ",(0,n.jsx)(s.code,{children:".next"}),", ",(0,n.jsx)(s.code,{children:".nuxt"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"IDE/Editor"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:".idea"}),", ",(0,n.jsx)(s.code,{children:".vscode"}),", ",(0,n.jsx)(s.code,{children:"*.swp"}),", ",(0,n.jsx)(s.code,{children:"*.swo"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Java/Build"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"target"}),", ",(0,n.jsx)(s.code,{children:".gradle"}),", ",(0,n.jsx)(s.code,{children:".m2"}),", ",(0,n.jsx)(s.code,{children:"out"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"PHP"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"vendor"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Ciri"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:".ciri"})})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["Note: ",(0,n.jsx)(s.code,{children:".ciri"})," is excluded from file/folder listings but is explicitly searched for ",(0,n.jsx)(s.code,{children:"@skills:"}),", ",(0,n.jsx)(s.code,{children:"@toolkits:"}),", and ",(0,n.jsx)(s.code,{children:"@subagents:"})," completions."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"skills-trigger",children:"Skills Trigger"}),"\n",(0,n.jsx)(s.h3,{id:"skillsprefix",children:(0,n.jsx)(s.code,{children:"@skills:<prefix>"})}),"\n",(0,n.jsxs)(s.p,{children:["Lists discovered skill names from both the ",(0,n.jsx)(s.strong,{children:"core harness"})," and ",(0,n.jsx)(s.strong,{children:"project harness"}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > Use @skills:pdf to extract form fields from application.pdf\nYou > Run @skills:competitor-research on Notion and Linear\n"})}),"\n",(0,n.jsx)(s.p,{children:"Skills are discovered from:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"~/.local/share/ciri/skills/"})," (core harness \u2014 global)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:".ciri/skills/"})," (project harness \u2014 local)"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Each entry shows the skill name (directory stem). Completions are prefixed with \u26a1."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"toolkits-trigger",children:"Toolkits Trigger"}),"\n",(0,n.jsx)(s.h3,{id:"toolkitsprefix",children:(0,n.jsx)(s.code,{children:"@toolkits:<prefix>"})}),"\n",(0,n.jsx)(s.p,{children:"Lists MCP toolkits available in the current session."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > Use @toolkits:github to list open PRs on our repo\nYou > Check @toolkits:jira for tickets assigned to me\n"})}),"\n",(0,n.jsx)(s.p,{children:"Toolkits are discovered from:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"~/.local/share/ciri/toolkits/"})," (core harness)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:".ciri/toolkits/"})," (project harness)"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Completions are prefixed with \ud83d\udd27."}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"subagents-trigger",children:"SubAgents Trigger"}),"\n",(0,n.jsx)(s.h3,{id:"subagentsprefix",children:(0,n.jsx)(s.code,{children:"@subagents:<prefix>"})}),"\n",(0,n.jsx)(s.p,{children:"Lists available subagent configuration names."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > @subagents:web_researcher \u2014 find all recent GDPR enforcement actions in the EU\nYou > Ask @subagents:skill_builder to create a skill for our internal metrics API\n"})}),"\n",(0,n.jsx)(s.p,{children:"SubAgents are discovered from:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"~/.local/share/ciri/subagents/*.{yaml,yml,json}"})," (core harness)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:".ciri/subagents/*.{yaml,yml,json}"})," (project harness)"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Built-in subagents (",(0,n.jsx)(s.code,{children:"web_researcher"}),", ",(0,n.jsx)(s.code,{children:"skill_builder"}),", ",(0,n.jsx)(s.code,{children:"toolkit_builder"}),", ",(0,n.jsx)(s.code,{children:"subagent_builder"}),", ",(0,n.jsx)(s.code,{children:"trainer_agent"}),") are always available even without explicit config files. Completions are prefixed with \ud83e\udd16."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"slash-command-autocomplete",children:"Slash Command Autocomplete"}),"\n",(0,n.jsxs)(s.p,{children:["Type ",(0,n.jsx)(s.code,{children:"/"})," and press ",(0,n.jsx)(s.code,{children:"Tab"})," to see all available commands:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"/new-thread\n/switch-thread\n/delete-thread\n/threads\n/change-model\n/change-browser-profile\n/sync\n/help\n/exit\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Model name autocomplete works inside ",(0,n.jsx)(s.code,{children:"/change-model"}),":"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"You > /change-model\nModel: claude-[TAB]\n  claude-sonnet-4-6\n  claude-opus-4-6\n  claude-haiku-4-5-20251001\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"implementation-reference",children:"Implementation Reference"}),"\n",(0,n.jsx)(s.p,{children:"The autocomplete logic lives in two places:"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"src/utils.py"})})," \u2014 discovery functions:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"list_files_with_gitignore(root, prefix)"})," \u2014 file listing"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"list_folders_with_gitignore(root, prefix)"})," \u2014 folder listing"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"list_skills(root, prefix)"})," \u2014 skill discovery"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"list_toolkits(root, prefix)"})," \u2014 toolkit discovery"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"list_subagents(root, prefix)"})," \u2014 subagent discovery"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"src/__main__.py"})})," \u2014 ",(0,n.jsx)(s.code,{children:"CiriCompleter"})," class:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Inherits from ",(0,n.jsx)(s.code,{children:"prompt_toolkit.completion.Completer"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"get_completions(document, complete_event)"})," \u2014 dispatches to the right discovery function"]}),"\n",(0,n.jsx)(s.li,{children:"Adds display prefix emoji for each trigger type"}),"\n",(0,n.jsx)(s.li,{children:"Handles errors silently via try/except"}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453(e,s,r){r.d(s,{R:()=>d,x:()=>c});var i=r(6540);const n={},l=i.createContext(n);function d(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);